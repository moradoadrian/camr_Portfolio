---
const experiences = [
  {
    role: "Desarrollador de Sistemas",
    company: "Dirección General del Registro Civil",
    period: "Abr 2024 - Presente",
    description:
      "Digitalización de trámites (Constancias, Anotaciones) usando Angular y Python (FastAPI). Desarrollo Full Stack, integración de APIs REST, y diseño de componentes escalables.",
  },
  {
    role: "Soporte y Desarrollo",
    company: "Hospitales MAC",
    period: "Nov 2020 - Ene 2024",
    description:
      "Soporte a sistemas hospitalarios (EMR Tasy) y automatización de reportes con Oracle. Resolución de incidencias técnicas y capacitación a usuarios.",
  },
  {
    role: "Desarrollador FrontEnd",
    company: "Infoexpo",
    period: "May 2018 - Nov 2020",
    description:
      "Desarrollo de aplicaciones web con PHP (Symfony 3) y PostgreSQL. Diseño de interfaces responsivas y optimización de bases de datos.",
  }
];

const education = [
  {
    degree: "Maestría en Diseño y Desarrollo de la Interfaz de Usuario Web",
    school: "UNIR México",
    period: "Actualmente",
    status: "En curso"
  },
  {
    degree: "Plan Superior Universitario en IA para Desarrollo de Software y DevOps",
    school: "UNIR México",
    period: "Actualmente",
    status: "En curso"
  },
  {
    degree: "Ingeniería en Tecnologías de la Información y Comunicaciones",
    school: "Instituto Tecnológico de Roque",
    period: "2012 - 2017",
    status: "Cédula: 14917232"
  }
];
---

<section id="experience" class="py-20 px-4 bg-slate-900/50 border-y border-slate-800">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 font-pixel text-purple-400">
      &lt;System_Log /&gt;
    </h2>

    <div class="grid md:grid-cols-2 gap-12 font-mono">
      <!-- Experience Column -->
      <div class="experience-container">
        <div class="bg-slate-950 border-2 border-slate-700 p-6 h-full relative group hover:border-purple-500 transition-colors">
          <div class="absolute top-0 left-0 bg-slate-700 text-xs text-white px-2 py-1 group-hover:bg-purple-600 transition-colors">
            EXECUTION_HISTORY
          </div>
          <div class="mt-8 space-y-8 relative">
             <!-- Vertical Line -->
             <div class="absolute left-[7px] top-2 bottom-2 w-px bg-slate-800"></div>

            {
              experiences.map((exp) => (
                <div class="relative pl-8 group/item">
                  <div class="absolute left-0 top-1.5 w-4 h-4 bg-slate-900 border border-purple-500 group-hover/item:bg-purple-500 transition-colors"></div>
                  
                  <div class="text-xs text-purple-400 mb-1 font-bold">
                    [{exp.period}] :: {exp.company}
                  </div>
                  <h4 class="text-lg font-bold text-white mb-2 group-hover/item:text-purple-300 transition-colors">
                    > {exp.role}
                  </h4>
                  <p class="text-slate-400 text-sm leading-relaxed border-l-2 border-slate-800 pl-3 group-hover/item:border-purple-500/50 transition-colors">
                    {exp.description}
                  </p>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <!-- Education Column -->
      <div class="education-container">
        <div class="bg-slate-950 border-2 border-slate-700 p-6 h-full relative group hover:border-blue-500 transition-colors">
          <div class="absolute top-0 left-0 bg-slate-700 text-xs text-white px-2 py-1 group-hover:bg-blue-600 transition-colors">
            KERNEL_TRAINING
          </div>
          <div class="mt-8 space-y-8 relative">
             <!-- Vertical Line -->
             <div class="absolute left-[7px] top-2 bottom-2 w-px bg-slate-800"></div>

            {
              education.map((edu) => (
                <div class="relative pl-8 group/item">
                  <div class="absolute left-0 top-1.5 w-4 h-4 bg-slate-900 border border-blue-500 group-hover/item:bg-blue-500 transition-colors"></div>
                  
                  <div class="text-xs text-blue-400 mb-1 font-bold">
                    [{edu.period}] :: {edu.status}
                  </div>
                  <h4 class="text-lg font-bold text-white mb-2 group-hover/item:text-blue-300 transition-colors">
                    > {edu.degree}
                  </h4>
                  <p class="text-slate-400 text-sm leading-relaxed">
                    {edu.school}
                  </p>
                </div>
              ))
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  gsap.to(".skills-container", {
    scrollTrigger: {
      trigger: ".skills-container",
      start: "top bottom-=100",
    },
    opacity: 1,
    x: 0,
    duration: 1,
    ease: "power3.out",
  });

  gsap.to(".experience-container", {
    scrollTrigger: {
      trigger: ".experience-container",
      start: "top bottom-=100",
    },
    opacity: 1,
    x: 0,
    duration: 1,
    ease: "power3.out",
    delay: 0.2,
  });
</script>
