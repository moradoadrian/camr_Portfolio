---
const techIcons = {
  Angular: `<svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 5.5L3.5 19L12 22L20.5 19L22 5.5L12 2Z" fill="#DD0031"/><path d="M12 2L2 5.5L3.5 19L12 22V2Z" fill="#C3002F"/><path d="M12 4.5L18.5 18H15.5L14 14.5H10L8.5 18H5.5L12 4.5Z" fill="white"/><path d="M12 4.5V14.5H14L12 4.5Z" fill="white"/><path d="M12 7.5L10.5 11H13.5L12 7.5Z" fill="#DD0031"/></svg>`,
  Firebase: `<svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.89 15.67L11.99 20.19L20.1 15.67L18.67 4.92C18.67 4.92 18.62 4.47 18.24 4.47C17.86 4.47 17.76 4.87 17.76 4.87L14.56 11.14L12.66 7.44C12.66 7.44 12.51 7.14 12.14 7.14C11.77 7.14 11.62 7.44 11.62 7.44L3.89 15.67Z" fill="#FFCA28"/><path d="M11.99 20.19L3.89 15.67L2.79 4.62C2.79 4.62 2.74 4.17 3.12 4.17C3.5 4.17 3.6 4.57 3.6 4.57L11.99 20.19Z" fill="#FFA000"/><path d="M11.99 20.19L14.56 11.14L17.76 4.87C17.76 4.87 17.96 4.47 18.24 4.47C18.52 4.47 18.67 4.92 18.67 4.92L21.21 17.42C21.21 17.42 21.36 18.17 20.1 18.87L11.99 20.19Z" fill="#FFCA28"/></svg>`,
  Tailwind: `<svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.0002 6C12.0002 6 13.5002 2 17.5002 3C21.5002 4 21.5002 8 19.0002 10.5C16.5002 13 15.0002 12 16.0002 10C17.0002 8 18.5002 7.5 19.0002 8.5C19.5002 9.5 18.5002 11.5 16.0002 11.5C13.5002 11.5 12.0002 8.5 12.0002 6Z" fill="#38BDF8"/><path d="M6.00024 12C6.00024 12 7.50024 8 11.5002 9C15.5002 10 15.5002 14 13.0002 16.5C10.5002 19 9.00024 18 10.0002 16C11.0002 14 12.5002 13.5 13.0002 14.5C13.5002 15.5 12.5002 17.5 10.0002 17.5C7.50024 17.5 6.00024 14.5 6.00024 12Z" fill="#38BDF8"/></svg>`,
  Capacitor: `<svg class="w-4 h-4" viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM128 352c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg>`,
  MySQL: `<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>`,
  Materialize: `<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 12l10 10 10-10L12 2z"/></svg>`,
};

const projects = [
  {
    title: "Constancias de Inexistencia",
    description:
      "Sistema para la gestión y emisión de constancias de inexistencia. Optimización de procesos administrativos mediante una plataforma web robusta.",
    tags: ["Angular", "Materialize"],
    image: "/constanciasI.png",
  },
  {
    title: "Anotaciones Judiciales",
    description:
      "Plataforma para el registro y consulta de anotaciones judiciales, garantizando la integridad y disponibilidad de la información legal.",
    tags: ["Angular", "Tailwind", "MySQL", "Firebase"],
    image: "/anotacionesJ.png",
  },
  {
    title: "POS Miche LTS",
    description:
      "Punto de venta especializado para Miche LTS. Gestión de inventarios, ventas y reportes en tiempo real.",
    tags: ["Angular", "Firebase", "Capacitor", "Tailwind"],
    image: "/posMiche.png",
  },
  {
    title: "Purple Wings",
    description:
      "Aplicación innovadora desarrollada con tecnologías modernas para resolver necesidades específicas del cliente.",
    tags: ["Angular", "Firebase", "Capacitor", "Tailwind"],
    image: "/purpleW.png",
  },
];
---

<section id="projects" class="py-20 px-4 relative">
  <div class="max-w-6xl mx-auto">
    <h2
      class="section-title text-4xl md:text-5xl font-bold text-center mb-16 font-pixel text-purple-400"
    >
      &lt;Proyectos_Destacados /&gt;
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {
        projects.map((project, index) => (
          <div class="project-card group relative bg-slate-900 border-2 border-slate-700 hover:border-purple-500 transition-all duration-300 opacity-0 translate-y-10 hover:shadow-[0_0_15px_rgba(168,85,247,0.5)]">
            <div class="aspect-video overflow-hidden border-b-2 border-slate-700 group-hover:border-purple-500 transition-colors">
              <img
                src={project.image}
                alt={project.title}
                class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 grayscale group-hover:grayscale-0"
              />
              <div class="absolute inset-0 bg-slate-900/50 group-hover:bg-transparent transition-colors duration-300" />
            </div>

            <div class="p-6 relative">
              <div class="absolute top-0 right-0 p-2">
                <div class="w-2 h-2 bg-slate-700 group-hover:bg-purple-500 transition-colors"></div>
              </div>
              
              <h3 class="text-2xl font-bold text-white mb-2 font-pixel">
                > {project.title}
              </h3>
              <p class="text-slate-400 mb-4 font-mono text-sm leading-relaxed">
                {project.description}
              </p>
              <div class="flex gap-2 flex-wrap">
                {project.tags.map((tag) => (
                  <span class="px-3 py-1 text-xs font-mono bg-slate-800 text-purple-300 border border-purple-500/30 flex items-center gap-2 hover:bg-purple-900/30 transition-colors">
                    <span set:html={techIcons[tag as keyof typeof techIcons] || ""} />
                    {tag}
                  </span>
                ))}
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const cards = document.querySelectorAll(".project-card");

  cards.forEach((card, index) => {
    gsap.to(card, {
      scrollTrigger: {
        trigger: card,
        start: "top bottom-=100",
        toggleActions: "play none none reverse",
      },
      opacity: 1,
      y: 0,
      duration: 0.8,
      delay: index * 0.2,
      ease: "power3.out",
    });
  });
</script>
